return function()
	local makeActionCreator = require(script.Parent.makeActionCreator)
	local CorePackages = game:GetService("CorePackages")

	local JestGlobals = require(CorePackages.JestGlobals)
	local expect = JestGlobals.expect

	describe("the generated action creator", function()
		it("should throw if given an invalid arguments", function()
			expect(function()
				makeActionCreator(100)
			end).toThrow()
			expect(function()
				makeActionCreator("Test", 12)
			end).toThrow()
		end)

		it("should generate a callable table with a 'name' field", function()
			local actionCreator = makeActionCreator("Action")
			expect(actionCreator).toMatchObject({
				name = "Action",
			})
			expect(function() actionCreator() end).never.toThrow()
		end)
	end)

	describe("the action object generated by the action creator", function()
		it("should expect a matching number of inputs", function()
			local actionWithFields = makeActionCreator("AddItem", "id", "title")

			expect(function()
				actionWithFields(10, "Apple", "extra arg")
			end).toThrow()
			expect(function()
				actionWithFields(10)
			end).toThrow()

			expect(function()
				actionWithFields(10, "Orange")
			end).never.toThrow()
		end)

		it("should correctly count trailing nils", function()
			local actionWithFields = makeActionCreator("SetProperty", "value", "default")

			expect(function()
				actionWithFields("1", nil)
			end).never.toThrow()
		end)
	end)
end
